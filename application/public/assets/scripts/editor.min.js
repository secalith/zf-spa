/*! secalith-spa lib - v1.0.0 -2018-03-28 */
function myAsyncFunction(e){return new Promise((t,n)=>{const o=new XMLHttpRequest;o.open("GET",e),o.onload=(()=>t(o.responseText)),o.onerror=(()=>n(o.statusText)),o.send()})}class Update{constructor(){}readAjaxCall(e){return new Promise((t,n)=>{const o=new XMLHttpRequest;o.open("GET",e),o.onload=(()=>t(o.responseText)),o.onerror=(()=>n(o.statusText)),o.send()})}read(e,t){const n="/read/"+e+"/"+t+"/json";this.readAjaxCall(n).then(function(e){var t=JSON.parse(e);jQuery("#updateModal .modal-body textarea").eq(0).text(t.content),jQuery("#updateModal .modal-body textarea").summernote({height:"230px",focus:!0})}).then(function(e){}),jQuery("#updateModal").modal("show")}}myAjax=new Update,document.addEventListener?(document.addEventListener("click",function(e){(e=e||window.event).target||e.srcElement;document.getElementsByClassName("context-menu").length>0&&document.getElementsByClassName("context-menu").remove()}),document.addEventListener("contextmenu",function(e){var t=(e=e||window.event).target||e.srcElement,n=t.textContent||n.innerText;t.getAttribute("data-visual-state");t.setAttribute("data-visual-state","hover"),e.preventDefault();e.args;document.getElementsByClassName("context-menu").length>0&&document.getElementsByClassName("context-menu").remove();var o=document.createElement("div"),a=(document.createTextNode("Edit Content"),document.createElement("ul")),r=document.createElement("li"),d=document.createElement("a");d.setAttribute("href","#"),d.setAttribute("onclick",'javascript:myAjax.read("content","'+t.getAttribute("data-uid")+'");return false;'),d.appendChild(document.createTextNode("Edit Content")),r.appendChild(d),a.appendChild(r);var u=document.createElement("li"),s=document.createElement("a");s.setAttribute("href","#"),s.setAttribute("onclick","javascript:return false;"),s.appendChild(document.createTextNode("Edit Block")),u.appendChild(s),a.appendChild(u);var c=document.createElement("li"),i=document.createElement("a");i.setAttribute("href","#"),i.setAttribute("onclick","javascript:return false;"),i.appendChild(document.createTextNode("Edit Area")),c.appendChild(i),a.appendChild(c),o.appendChild(a),o.setAttribute("style","position:absolute;top:"+getMouseY()+"px;left:"+getMouseX()+"px;"),o.setAttribute("class","context-menu"),document.body.appendChild(o)},!1)):document.attachEvent("oncontextmenu",function(){alert("You've tried to open context menu"),window.event.returnValue=!1});var x=null,y=null;function position(){}function onMouseUpdate(e){x=e.pageX,y=e.pageY}function getMouseX(){return x}function getMouseY(){return y}document.addEventListener("mousemove",onMouseUpdate,!1),document.addEventListener("mouseenter",onMouseUpdate,!1),Element.prototype.remove=function(){this.parentElement.removeChild(this)},NodeList.prototype.remove=HTMLCollection.prototype.remove=function(){for(var e=this.length-1;e>=0;e--)this[e]&&this[e].parentElement&&this[e].parentElement.removeChild(this[e])};